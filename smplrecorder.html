<!DOCTYPE html>
<html>
<head>

</head>

<body>

<h1>Simple keystroke recorder</h1>
<p>1. Type user name in field below.</p>

Usrname:
<input type="text" id="userID"></input>

<p>2. Start typing text below. When you finish, hit "Submit" button.</p>

Type your text here:
<br>
<textarea id="myTextarea" rows="4" cols="50" onkeydown="keydown()" onkeyup="keyup()"></textarea>
<br>
<button type="button" onclick="submit()">Submit</button>

<script>
var keylog = [];
var timelog = [];
var username

function keydown(){
  keylog.push(event.keyCode + "1");
  timelog.push(event.timeStamp);
}

function keyup(){
  keylog.push(event.keyCode + "0");
  timelog.push(event.timeStamp);
}

function submit() {
  username = document.getElementById("userID").value
  keylog.toString();
  document.getElementById("out_keys").innerHTML = keylog;
  s = timelog[0]/1000.0
  for(i = 0; i < timelog.length; i++ ){
    timelog[i] = (timelog[i]/1000.0) - s
  }
  timelog.toString()
  document.getElementById("out_times").innerHTML = timelog;
  document.getElementById("out_user").innerHTML = username;
}

</script>
<p id="out_user"></p>
<p id="out_keys"></p>
<p id="out_times"></p>

</body>
</html>
